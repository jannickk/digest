# The main job for main_bundle.
resources:
  jobs:
    ingest_to_bronze:
      name: source-to-bronze

      continuous:

      tasks:
        - task_key: spectrum_identification
          existing_cluster_id: ${var.existing_cluster_id}
          notebook_task:
            notebook_path: ../src/file-to-bronze-spectrum-identification-result.ipynb
        - task_key: peptide_evidence
          existing_cluster_id: ${var.existing_cluster_id}
          notebook_task:
            notebook_path: ../src/file-to-bronze-peptide-evidence.ipynb
        - task_key: db_sequence
          existing_cluster_id: ${var.existing_cluster_id}
          notebook_task:
            notebook_path: ../src/file-to-bronze-dbsequence.ipynb
        - task_key: peptide
          existing_cluster_id: ${var.existing_cluster_id}
          notebook_task:
            notebook_path: ../src/file-to-bronze-peptide.ipynb
        
    bronze-to-silber:
      name: bronze-to-silver

      continuous:

      tasks:
        - task_key: spectrum_identification
          existing_cluster_id: ${var.existing_cluster_id}
          notebook_task:
            notebook_path: ../src/bronze-to-silver-spectrum-identification-result.ipynb
        - task_key: peptide_evidence
          existing_cluster_id: ${var.existing_cluster_id}
          notebook_task:
            notebook_path: ../src/bronze-to-silver-peptide-evidence.ipynb
        - task_key: db_sequence
          existing_cluster_id: ${var.existing_cluster_id}
          notebook_task:
            notebook_path: ../src/bronze-to-silver-dbsequence.ipynb
        - task_key: peptide
          existing_cluster_id: ${var.existing_cluster_id}
          notebook_task:
            notebook_path: ../src/bronze-to-silver-peptide.ipynb
